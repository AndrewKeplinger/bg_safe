'use strict';function LegalPanel(b){var f=this,c=document.getElementById(b||"div_legal");c.style.pointerEvents="none";c.style.background="transparent";var a,h;this.doResizeUpdate=function(){a=oSTAGE.is_landscape?Math.min(1,oSTAGE.screen_width/960):Math.min(1,oSTAGE.screen_width/800);c.style.transform=c.style.webkitTransform="scale("+a+","+a+")";c.style.width=1/a*oSTAGE.screen_width+"px";h=Math.max(c.clientHeight)*a;c.style.left="0px";c.style.top=oSTAGE.screen_height-h+"px"};b=c.appendChild(document.createElement("table"));
b.style.margin="0px";b.setAttribute("width","100%");b.border=0;var g=b.appendChild(document.createElement("tr"));b=g.appendChild(document.createElement("td"));b.style.textAlign="left";b.style.whiteSpace="nowrap";b.setAttribute("valign","bottom");b.setAttribute("cellpadding","0");g=g.appendChild(document.createElement("td"));g.style.textAlign="right";g.setAttribute("valign","bottom");g.setAttribute("cellpadding","0");g=g.appendChild(document.createElement("div"));g.className="legal_block";g.style.textAlign=
"right";g.style.background="transparent";g.style.textShadow="0px 0px 8px black, 0px 0px 8px black";for(var d=0;d<legal_images.length;d++){var k=legal_images[d],l=b.appendChild(document.createElement("img"));l.className="legal_image";l.src=k.src;l.alt=k.alt;l.prohibit_touch=!0;l.draggable="false";l.ondragstart=function(){return!1};l.onload=function(){f.doResizeUpdate()}}for(d=0;d<legal_links.length;d++){if(legal_links[d].link){var e=g.appendChild(document.createElement("a"));e.className=platform.isMobile?
"legal_link_mobile":"legal_link";e.setAttribute("href",oLANG[legal_links[d].msg+"_link"].value);console.log(oLANG[legal_links[d].msg+"_link"].value);e.setAttribute("target","_blank")}else e=g.appendChild(document.createElement("div")),e.style.whiteSpace="nowrap",e.style.pointerEvents="none",e.prohibit_touch=!0;e.style.fontSize="14px";__utils.doHTMLText(e,oLANG[legal_links[d].msg]);legal_links[d].after&&d<legal_links.length-1&&(b=g.appendChild(document.createElement("div")),b.style.position="relative",
b.style.marginLeft="4px",b.style.marginRight="4px",b.style.display="inline-block",b.innerHTML=legal_links[d].after,b.prohibit_touch=!0)}b=document.getElementById("_legal_gdpr");g.appendChild(b);e.style.whiteSpace="nowrap";e.style.pointerEvents="pointer";f.doResizeUpdate();this.doHide=function(){};this.doShow=function(){};update_queue.push({doResizeUpdate:f.doResizeUpdate})};function ControlsPanel(){var b=document.getElementById("div_controls"),f=b.appendChild(document.createElement("div"));f.className="b_mute";f.onclick=function(){0==window.__snds.toggleMute()?(f.className="b_mute_on",oUSER.is_mute=!1):(f.className="b_mute",oUSER.is_mute=!0);__localsaver.doSaveData("user",oUSER)};f.className=oUSER.is_mute?"b_mute":"b_mute_on";var c=b.appendChild(document.createElement("div"));c.className="b_pause";c.style.pointerEvents="none";c.style.transform="translateX(100px)";c.onclick=
function(){GAME.is_paused?GAME.doUnPause():GAME.doPause()};this.doResizeUpdate=function(){var a=oSTAGE.is_landscape?Math.min(1,oSTAGE.screen_width/960):Math.min(1,oSTAGE.screen_width/640);b.style.transform=b.style.webkitTransform="scale("+a+","+a+")"};this.doShowPause=function(){c.style.pointerEvents="auto";TweenLite.set(c,{transform:"translateX(100px)",overwrite:!0});TweenLite.to(c,1.2,{transform:"translateX(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.5)})};this.doHidePause=function(){c.style.pointerEvents=
"none";TweenLite.to(c,.4,{transform:"translateX(100px)",overwrite:!0,ease:Back.easeIn.config(1.5)})};this.doResizeUpdate();update_queue.push({doResizeUpdate:this.doResizeUpdate})};function PopupPause(b){var f=this,c=document.getElementById("div_pause");__utils.doDestroyAllChildren(c);var a=c.appendChild(document.createElement("div"));a.className="pause_menu_block";for(var h=0;h<b.length;h++){var g=b[h],d=a.appendChild(document.createElement("div"));d.className="pause_menu";__utils.doHTMLText(d,g.msg);d.callback=g.callback;d.snd=g.snd;d.onmouseup=function(l){l.target.callback();window.__snds.playSound(l.target.snd,"interface");f.doDestroy()}}this.doResizeUpdate=function(){var l=
Math.min(Infinity,oSTAGE.screen_width/800,oSTAGE.screen_height/800);c.style.transform=c.style.webkitTransform="scale("+l+","+l+")";c.style.width=1/l*oSTAGE.screen_width+"px";c.style.height=1/l*oSTAGE.screen_height+"px";a.style.top=.5*(c.clientHeight-a.clientHeight)+"px"};this.doReveal=function(){};this.doDestroy=function(){__utils.doDestroyAllChildren(c);k.forget=!0;c.style.display="none";window.__snds.unforceMute()};window.__snds.forceMute();c.style.display="block";f.doResizeUpdate();f.doReveal();
var k={doResizeUpdate:f.doResizeUpdate};update_queue.push(k)};function Loader(b){var f=this,c=document.getElementById("div_loading");window.__utils.doDestroyAllChildren(c);c.style.display="block";c.style.opacity=1;this.doResizeUpdate=function(){trace("loading -> doResizeUpdate()");var d=Math.min(Infinity,oSTAGE.screen_width/800,oSTAGE.screen_height/800);c.style.transform=c.style.webkitTransform="scale("+d+","+d+")";c.style.width=1/d*oSTAGE.screen_width+"px";c.style.height=1/d*oSTAGE.screen_height+"px"};this.doUpdateBar=function(d){h.style.width=100*d+"%"};this.doFadeAndDestroy=
function(){window.__utils.doDestroyAllChildren(c);TweenLite.to(c,1,{opacity:0,overwrite:!0,onComplete:f.doDestroy})};this.doDestroy=function(){window.__utils.doDestroyAllChildren(c);g.forget=!0;c.style.display="none"};var a=c.appendChild(document.createElement("table"));a.setAttribute("border","0");a.setAttribute("width","100%");a.setAttribute("height","100%");a=a.appendChild(document.createElement("tr")).appendChild(document.createElement("td"));a.setAttribute("align","center");a.setAttribute("valign",
"middle");b&&(b=a.appendChild(document.createElement("div")),b.className="film_logo_block",b.style.position="relative",b.style.display="block",b.style.top="0px",b.style.left="0px",b=b.appendChild(document.createElement("div")),b.className="game_logo",b.style.top="-32px",b.style.left="50%",b.style.marginLeft="-161px",__utils.doHTMLText(b,oLANG.title));b=a.appendChild(document.createElement("div"));b.className="loader_spinner";b.style.position="relative";b.style.display="block";a=a.appendChild(document.createElement("div"));
a.className="loader_bar";a.style.position="relative";a.style.display="block";var h=a.appendChild(document.createElement("div"));h.className="loader_bar_fill";f.doResizeUpdate();var g={doResizeUpdate:f.doResizeUpdate};window.update_queue.push(g)};function TitleScreen(){var b=this,f=function(){window.__snds.playSound("music_title_loop","music",-1,.25);window.removeEventListener("touchstart",f)};"music_title_loop"!=window.__snds.getNowPlaying("music")&&(platform.isMobile&&!window.__snds.initialized?window.addEventListener("touchstart",f,{passive:!1,capture:!1}):window.__snds.playSound("music_title_loop","music",-1,.25));var c=document.getElementById("div_screens");__utils.doDestroyAllChildren(c);var a=c.appendChild(document.createElement("div"));
a.style.position="absolute";var h=a.appendChild(document.createElement("div"));h.className="character_title";a.appendChild(document.createElement("div")).className="film_logo_block";var g=a.appendChild(document.createElement("div"));g.className="game_logo";__utils.doHTMLText(g,oLANG.title);var d=a.appendChild(document.createElement("div"));d.className="b_play";__utils.doHTMLText(d,oLANG.play);d.onmouseup=function(e){b.doDestroy();doFinishLoading(function(){SCREEN=new InstructionsScreen});window.__snds.playSound("snd_click",
"interface")};d.onmouseover=function(e){TweenLite.to(e.target,.1,{transform:"scale(1.1, 1.1)",overwrite:!0})};d.onmouseout=function(e){TweenLite.to(e.target,.5,{transform:"scale(1.0, 1.0)",overwrite:!0,ease:Elastic.easeOut.config(1,.5)})};var k=a.appendChild(document.createElement("div"));k.className="b_instructions";__utils.doHTMLText(k,oLANG.instructions);k.onmouseup=function(e){window.__snds.playSound("snd_click","interface");window.open(oLANG.watch_link.value,"blank")};k.onmouseover=function(e){TweenLite.to(e.target,
.1,{transform:"scale(1.1, 1.1)",overwrite:!0})};k.onmouseout=function(e){TweenLite.to(e.target,.5,{transform:"scale(1.0, 1.0)",overwrite:!0,ease:Elastic.easeOut.config(1,.5)})};b.checkCheat=function(){-1!==window.__input.keys_down.indexOf(65)&&(oUSER.char1=600,oUSER.char2=100,__localsaver.doSaveData("user",oUSER));-1!==window.__input.keys_down.indexOf(81)&&(oUSER.char1=-1,oUSER.char2=-1,oUSER.char3=-1,oUSER.char4=-1,__localsaver.doSaveData("user",oUSER))};b.cheaterInterval=setInterval(b.checkCheat,
42);this.doResizeUpdate=function(){if(oSTAGE.is_landscape){var e=.5*oSTAGE.wrapper_width;d.style.left=(e-.5*d.clientWidth|0)+"px";k.style.right=(.5*(oSTAGE.wrapper_width-(d.offsetLeft+d.clientWidth))-.5*k.clientWidth|0)+"px";d.style.bottom="78px";k.style.bottom="78px"}else e=.5*oSTAGE.wrapper_width,d.style.left="24px",k.style.right="24px",d.style.bottom="80px",k.style.bottom="80px",h.style.webkitTransform="rotate(0deg)",h.style.mozTransform="rotate(0deg)",h.style.msTransform="rotate(0deg)",h.style.oTransform=
"rotate(0deg)",h.style.transform="rotate(0deg)";a.style.left=(e-.5*a.clientWidth-330|0)+"px"};this.doReveal=function(){h.style.transform="translateX("+(oSTAGE.wrapper_width-h.offsetLeft)+"px)";d.style.transform="translateY("+(oSTAGE.wrapper_height-d.offsetTop)+"px)";k.style.transform="translateY("+(oSTAGE.wrapper_height-k.offsetTop)+"px)";var e=1.1;TweenLite.to(h,1,{transform:"translateX(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:e});e+=1;TweenLite.to(d,.75,{transform:"translateY(0px)",
overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:e});e+=.25;TweenLite.to(k,.75,{transform:"translateY(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:e})};this.doDestroy=function(){clearInterval(b.cheaterInterval);__utils.doDestroyAllChildren(c);l.forget=!0};b.doResizeUpdate();b.doReveal();var l={doResizeUpdate:b.doResizeUpdate};window.update_queue.push(l)};function InstructionsScreen(){var b=this,f=document.getElementById("div_screens");__utils.doDestroyAllChildren(f);f.style.backgroundImage="url('./media/RedUIBG.jpg')";f.style.backgroundColor="rgb(170,29,35)";f.style.backgroundSize="cover";var c=f.appendChild(document.createElement("div"));c.className="inst_shadow";c.appendChild(document.createElement("div")).className="instruction_title";var a=f.appendChild(document.createElement("div"));a.className="instruction_IN_CINEMAS_NOVEMBER_6";__utils.doHTMLText(a,
date_msg);var h=f.appendChild(document.createElement("div"));h.className="instructions_image";h.style.backgroundImage=platform.isMobile?"url('media/instructions.gif')":"url('media/instructions_PC.gif')";var g=f.appendChild(document.createElement("div"));g.className="inst_frame";var d=g.appendChild(document.createElement("img"));d.className="frame_img";d.src="media/game/inst_frame.png";var k=f.appendChild(document.createElement("div"));k.className="b_play";__utils.doHTMLText(k,oLANG.play);k.onmouseup=
function(e){b.doDestroy();window.doFinishLoading(function(){SCREEN=new PickerScreen});window.__snds.playSound("snd_click","interface")};k.onmouseover=function(e){TweenLite.to(e.target,.1,{transform:"scale(1.1, 1.1)",overwrite:!0})};k.onmouseout=function(e){TweenLite.to(e.target,.5,{transform:"scale(1.0, 1.0)",overwrite:!0,ease:Elastic.easeOut.config(1,.5)})};this.doResizeUpdate=function(){var e=.5*oSTAGE.wrapper_width;a.style.left=e-.5*a.clientWidth+"px";c.style.left=e-.5*c.clientWidth+"px";k.style.left=
e-.5*k.clientWidth+"px";k.style.bottom=oSTAGE.is_landscape?"58px":"80px";e=a.offsetTop+a.clientHeight+20;var n=Math.min(oSTAGE.wrapper_width-200,k.offsetTop-20-e);h.style.top=e+"px";h.style.height=n+"px";h.style.width=n+"px";h.style.left=.5*(f.clientWidth-h.clientWidth)+"px";var p=20*n/942;g.style.top=e-p+"px";g.style.height=n+2*p+"px";g.style.width=n+2*p+"px";g.style.left=.5*(f.clientWidth-(n+2*p))+"px"};this.doReveal=function(){k.style.transform="translateY("+(oSTAGE.wrapper_height-k.offsetTop)+
"px)";TweenLite.to(k,.75,{transform:"translateY(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:.5})};this.doDestroy=function(){f.style.backgroundColor="";__utils.doDestroyAllChildren(f);l.forget=!0};b.doResizeUpdate();b.doReveal();var l={doResizeUpdate:b.doResizeUpdate};window.update_queue.push(l)};function GameScreen(){var b=this,f,c=document.getElementById("div_screens");document.getElementById("div_legal");__utils.doDestroyAllChildren(c);c.style.backgroundColor="";c.style.background="";var a=c.appendChild(document.createElement("div"));a.className="hud_messages";a.style.display="none";var h=c.appendChild(document.createElement("div"));h.className="logo_game_group";var g=h.appendChild(document.createElement("div"));g.className="film_game_logo_block";g=g.appendChild(document.createElement("div"));
g.className="film_game_logo_date";__utils.doHTMLText(g,date_msg);this.doUpdateScore=function(k){hud_score_amt.innerHTML=k};this.doShowMessage=function(k,l){__utils.doHTMLText(a,k);a.style.opacity=1;a.style.display="block";a.style.left=.5*(c.clientWidth-a.clientWidth)+"px";a.style.top=.5*(c.clientHeight-a.clientHeight)+"px";clearTimeout(f);l&&(f=setTimeout(b.doHideMessage,1E3*l))};this.doHideMessage=function(){TweenLite.to(a,.5,{opacity:0,overwrite:!0,onComplete:function(){a.style.display="none"}})};
this.doResizeUpdate=function(){a.style.left=.5*(c.clientWidth-a.clientWidth)+"px";a.style.top=.5*(c.clientHeight-a.clientHeight)+"px";h.style.left=(c.clientWidth-h.clientWidth)/2+"px";h.style.top="10px"};this.doReveal=function(){};this.doHide=function(){};this.doDestroy=function(){__utils.doDestroyAllChildren(c);d.forget=!0};b.doResizeUpdate();b.doReveal();var d={doResizeUpdate:b.doResizeUpdate};window.update_queue.push(d)};function RecapScreen(b){var f=this;f.id="screen";"music_title_loop"!=window.__snds.getNowPlaying("music")&&window.__snds.playSound("music_title_loop","music",-1,.25);var c=document.getElementById("div_screens");__utils.doDestroyAllChildren(c);var a=c.appendChild(document.createElement("div"));a.style.position="absolute";var h=["recap_jack","recap_callum","recap_garcia"][b.character-1],g=a.appendChild(document.createElement("div"));g.className=h;a.appendChild(document.createElement("div")).className=
"title";h=a.appendChild(document.createElement("div"));h.className="IN_CINEMAS_NOVEMBER_6";__utils.doHTMLText(h,date_msg);h=["Recap_Low","Recap_One","Recap_All"][b.final];var d=a.appendChild(document.createElement("span"));d.className="recap_textblock1";var k=oLANG.RecapProgress;k.value=b.progress+"/10";__utils.doHTMLText(d,k);var l=a.appendChild(document.createElement("span"));l.className="recap_textblock2";__utils.doHTMLText(l,oLANG[h]);var e=a.appendChild(document.createElement("div"));e.className=
"B_PLAY_MORE";__utils.doHTMLText(e,oLANG.B_PLAY_MORE);e.onmouseup=function(m){__snds.playSound("snd_click","interface");f.doDestroy();doFinishLoading(function(){SCREEN=new PickerScreen})};var n=a.appendChild(document.createElement("div"));n.className="B_WATCH_TRAILER";__utils.doHTMLText(n,oLANG.B_WATCH_TRAILER);n.onmouseup=function(m){__snds.playSound("snd_click","interface");doFinishLoading(function(){window.open(oLANG.watch_link.value,"blank")})};var p=a.appendChild(document.createElement("div"));
p.className="B_GET_TICKETS";__utils.doHTMLText(p,oLANG.B_GET_TICKETS);p.onmouseup=function(m){__snds.playSound("snd_click","interface");doFinishLoading(function(){window.open(oLANG.tickets_link.value,"blank")})};e.onmouseover=function(m){TweenLite.to(m.target,.1,{transform:"scale(1.1, 1.1)",overwrite:!0})};e.onmouseout=function(m){TweenLite.to(m.target,.5,{transform:"scale(1.0, 1.0)",overwrite:!0,ease:Elastic.easeOut.config(1,.5)})};this.doResizeUpdate=function(){var m=.5*oSTAGE.wrapper_width;e.style.bottom=
oSTAGE.is_landscape?"78px":"80px";a.style.left=(m-.5*a.clientWidth-330|0)+"px"};this.doReveal=function(){g.style.transform="translateX("+(oSTAGE.wrapper_width-g.offsetLeft)+"px)";e.style.transform="translateY("+(oSTAGE.wrapper_height-e.offsetTop)+"px)";n.style.transform="translateY("+(oSTAGE.wrapper_height-n.offsetTop)+"px)";p.style.transform="translateY("+(oSTAGE.wrapper_height-p.offsetTop)+"px)";d.style.transform="translateX("+-d.offsetWidth+"px)";l.style.transform="translateX("+-l.offsetWidth+
"px)";var m=1;TweenLite.to(g,1,{transform:"translateX(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m});m+=.5;TweenLite.to(p,.75,{transform:"translateY(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m});m+=.5;TweenLite.to(n,.75,{transform:"translateY(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m});m+=.5;TweenLite.to(e,.75,{transform:"translateY(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m});m+=.5;TweenLite.to(d,.75,{transform:"translateX(0px)",
overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m});m+=.5;TweenLite.to(l,.75,{transform:"translateX(0px)",overwrite:!0,ease:Elastic.easeOut.config(1,.8),delay:m})};this.doDestroy=function(){__utils.doDestroyAllChildren(c);q.forget=!0};f.doResizeUpdate();f.doReveal();var q={doResizeUpdate:f.doResizeUpdate};window.update_queue.push(q)};